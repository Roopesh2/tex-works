
\input{../../constructs/objects.tex}
\newcommand{\millerDiagramQuad}[6]{
	\begin{tikzpicture}[
			scale=#6,
			x={(-.45cm, -.4cm)},
			y={(1cm, 0cm)},
			z={(0cm, 1cm)}
		]
		\axes[#5]
		\shadedPlane{#1}{#2}{#3}{#4}

		\wirecube{#5}[0pt]

	\end{tikzpicture}
}

\newcommand{\millerDiagram}[5]{
	\millerDiagramQuad{#1}{#2}{#3}{#3}{#4}{#5}
}

\newcommand{\doubleCylinder}[3]{
	\draw (0,0) ellipse (#1 and #1*2);
	\draw (0,#1*2) -- ++(#3, 0);
	\draw (0,-#1*2) -- ++(#3, 0);

	\draw (0,0) ellipse (#2 and #2*2);
	\draw (0,#2*2) -- ++(#3, 0);
	\draw (0,-#2*2) -- ++(#3, 0);
}

% x,y, r, y-scalar, x-length, y-shear, color
\newcommand{\cylinder}[7]{
	\begin{scope}[shift={(#1, #2)}]
		\draw[fill=#7, draw=black] (#5, #4*#3+#6) arc (90:-80:#3 and #4*#3) -- ++(-#5, -#6) arc (-80:90:#3 and #4*#3) -- cycle;
		\draw[fill=#7, draw=black] (0, 0) ellipse (#3 and #4*#3);
	\end{scope}
}

% x, y, l, count, hair dx, hair dy, color, angle
\newcommand{\mirror}[8]{
	\begin{scope}[rotate=#8, shift={(#1, #2)}]
		\draw[color=#7] (0, 0) -- ++(0,#3);
		\foreach \i in {0,...,#4} {
				\draw[#7] (0, \i/#4*#3) --++(-#5, -#6);
			}
	\end{scope}
}